INTRODUCTION
============

media-player-id is a repository of data files describing media player
(mostly USB Mass Storage ones) capabilities. These files contain information
about the directory layout to use to add music to these devices, about the
supported file formats, ... These capabilities used to be provided by HAL 
in the 10-usb-music-players.fdi file but had to be moved elsewhere as part
of the big HALectomy.

The music player capabilities are now described in .mpi files (which are 
.ini-like files) which you can find in media-players/. These mpi files are
used to generate an udev rule to identify these devices. This rule associate
an ID_MEDIA_PLAYER attribute to the media player devices. This attribute
specifies the name of the .mpi file to use to find out the device
capabilities. The .mpi can then be looked up in $XDG_DATA_DIRS/media-player-id
(see the XDG Base Directory Specification for more information about what
this means).

Both the mpi files and the udev rule have to be installed on the system.
Indeed, the udev rule only contain what is strictly necessary, ie it only
matches media player devices and set an ID_MEDIA_PLAYER udev property on 
the device. This property contains the name of the mpi file. It's up to 
applications needing detailed information about media players (like the audio 
formats they support, ...) to parse this file and extract whatever is necessary
from it. The media player information isn't included directly in udev database
because not many apps need it, and because we didn't want to repeat the same
mistakes as HAL and include everything in its database.


MPI FILE FORMAT
===============

Each mpi file is separated in several sections:
- [Device] (only mandatory section)
- [Media]
- [Playlist]
- [storage]


The [Device] section contains information about the media player:
- Product: human-readable product (device) name 
- Vendor: human-readable vendor name 
- AccessProtocol: the way this device is accessed. For now the only
  supported value is "storage" for USB mass storage devices.
- DeviceMatch: semi-colon separated list of "usb:<vid>:<pid>" values (<vid> is
  the USB vendor ID, <pid> is the USB product ID). This lists all the USB
  that are described by the current mpi file. Additional filtering on the 
  supported devices might be done through other fields in the Device section.


The [Media] section describes in more details which media formats the player
supports. For now it only describes audio capabilities, but video or artwork
capabilities might be added in the future. Each entry in the Media section
is a semi-colon-separated list of media mime types (audio/mpeg, audio/x-wav,
...).
- InputFormats: audio formats the media player can record to
- OutputFormats: audio formats the media player can play back


The [Playlist] section describes the player playlist capabilites. If it's
absent, it means the player doesn't support playlists (or that the information
contained in media-player-id is incomplete, in such a case, please email us
or file a bug).
- Formats: it's a semi-colon-separated list of the mime-types of the
  playlist formats supported by the device

